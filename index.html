<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>翻訳者・ローカライザー データベース</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        #lang-switch {
            margin-left: 10px;
            padding: 5px 10px;
            cursor: pointer;
        }
        #about {
            margin-bottom: 30px;
        }
        #search {
            margin-bottom: 20px;
            text-align: center;
        }
        #search-input {
            width: 50%;
            padding: 10px;
            font-size: 16px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>翻訳者・ローカライザー データベース</h1>
        <button id="lang-switch">English</button>
    </header>

    <section id="about">
        <h2>このサイトについて</h2>
        <p>このサイトは、アニメ、マンガ、ビジュアルノベル、またはゲーム業界でソースコンテンツに論争的な修正を加える翻訳者とローカライザーをリストアップした検索可能なデータベースです。証拠を含みます。このサイトの目的は、翻訳者とローカライザーのずさんな慣行を文書化し、企業がそうした慣行を行う個人を避けられるようにすることです。ローカライゼーションの不正行為の問題には、文化的ニュアンスの無視、原作の意図からの逸脱、政治的またはイデオロギー的な挿入などが含まれ、これによりファンが不満を抱くことがあります。このデータベースは、そうした事例の証拠を収集し、業界の透明性を高めることを目指しています。</p>
    </section>

    <section id="search">
        <input type="text" id="search-input" placeholder="検索...">
    </section>

    <table id="database">
        <thead>
            <tr>
                <th>名前</th>
                <th>業界</th>
                <th>論争的な修正</th>
                <th>証拠</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data rows will be populated by JavaScript -->
        </tbody>
    </table>

    <script>
        const languages = {
            ja: {
                title: '翻訳者・ローカライザー データベース',
                aboutTitle: 'このサイトについて',
                aboutText: 'このサイトは、アニメ、マンガ、ビジュアルノベル、またはゲーム業界でソースコンテンツに論争的な修正を加える翻訳者とローカライザーをリストアップした検索可能なデータベースです。証拠を含みます。このサイトの目的は、翻訳者とローカライザーのずさんな慣行を文書化し、企業がそうした慣行を行う個人を避けられるようにすることです。ローカライゼーションの不正行為の問題には、文化的ニュアンスの無視、原作の意図からの逸脱、政治的またはイデオロギー的な挿入などが含まれ、これによりファンが不満を抱くことがあります。このデータベースは、そうした事例の証拠を収集し、業界の透明性を高めることを目指しています。',
                searchPlaceholder: '検索...',
                thName: '名前',
                thIndustry: '業界',
                thMods: '論争的な修正',
                thEvidence: '証拠'
            },
            en: {
                title: 'Translator and Localizer Database',
                aboutTitle: 'About This Site',
                aboutText: 'This site is a searchable database listing translators and localizers in the anime, manga, visual novel, or game industry who make controversial modifications to the source content, including evidence. The site serves to document shoddy practices by translators and localizers so that companies may avoid individuals who engage in such practices. The issue of localization malpractice includes ignoring cultural nuances, deviating from the original intent, inserting political or ideological agendas, and more, which often leads to fan dissatisfaction. This database aims to collect evidence of such cases to promote transparency in the industry.',
                searchPlaceholder: 'Search...',
                thName: 'Name',
                thIndustry: 'Industry',
                thMods: 'Controversial Modifications',
                thEvidence: 'Evidence'
            }
        };

        // Sample data with bilingual support (replace with your actual data from Excel converted to JSON)
        // To integrate real Excel data: Use a tool like SheetJS (xlsx.js) if you want to load .xlsx directly,
        // but since we're sticking to vanilla JS, convert your Excel to JSON first and paste here.
        // Example structure: Each object represents a row with lang-specific fields.
        const data = [
            {
                name: "John Doe",
                industry: { en: 'Anime', ja: 'アニメ' },
                mods: { en: 'Altered dialogue to insert personal political views, changing character motivations.', ja: '対話を変更して個人的な政治的見解を挿入し、キャラクターの動機を変えました。' },
                evidence: { en: '<a href="https://example.com/evidence1" target="_blank">Screenshot and comparison</a>', ja: '<a href="https://example.com/evidence1" target="_blank">スクリーンショットと比較</a>' }
            },
            {
                name: 'Jane Smith',
                industry: { en: 'Manga', ja: 'マンガ' },
                mods: { en: 'Removed cultural references and replaced with Western equivalents without context.', ja: '文化的参照を削除し、文脈なしで西洋の同等物に置き換えました。' },
                evidence: { en: '<a href="https://example.com/evidence2" target="_blank">Original vs. localized scans</a>', ja: '<a href="https://example.com/evidence2" target="_blank">オリジナル対ローカライズされたスキャン</a>' }
            },
            {
                name: 'Alex Johnson',
                industry: { en: 'Visual Novel', ja: 'ビジュアルノベル' },
                mods: { en: 'Added ideological commentary not present in the source, altering story tone.', ja: 'ソースに存在しないイデオロギー的な解説を追加し、物語のトーンを変えました。' },
                evidence: { en: '<a href="https://example.com/evidence3" target="_blank">Forum discussion with diffs</a>', ja: '<a href="https://example.com/evidence3" target="_blank">差分付きのフォーラム議論</a>' }
            },
            // Add more entries from your Excel file here
        ];

        let currentLang = 'ja';

        function setLanguage(lang) {
            document.querySelector('h1').textContent = languages[lang].title;
            document.querySelector('#about h2').textContent = languages[lang].aboutTitle;
            document.querySelector('#about p').textContent = languages[lang].aboutText;
            document.querySelector('#search-input').placeholder = languages[lang].searchPlaceholder;
            document.querySelectorAll('th')[0].textContent = languages[lang].thName;
            document.querySelectorAll('th')[1].textContent = languages[lang].thIndustry;
            document.querySelectorAll('th')[2].textContent = languages[lang].thMods;
            document.querySelectorAll('th')[3].textContent = languages[lang].thEvidence;
            document.documentElement.lang = lang;
            if (lang === 'ja') {
                document.querySelector('#lang-switch').textContent = 'English';
            } else {
                document.querySelector('#lang-switch').textContent = '日本語';
            }
            currentLang = lang;
        }

        // Populate table with data based on current language
        function populateTable() {
            let tbody = document.querySelector('tbody');
            tbody.innerHTML = ''; // Clear existing rows
            data.forEach(item => {
                let row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.name}</td>
                    <td>${item.industry[currentLang]}</td>
                    <td>${item.mods[currentLang]}</td>
                    <td>${item.evidence[currentLang]}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Search functionality
        function setupSearch() {
            document.querySelector('#search-input').addEventListener('input', (e) => {
                let term = e.target.value.toLowerCase();
                document.querySelectorAll('tbody tr').forEach(tr => {
                    if (tr.textContent.toLowerCase().includes(term)) {
                        tr.classList.remove('hidden');
                    } else {
                        tr.classList.add('hidden');
                    }
                });
            });
        }

        // Language switch button
        document.querySelector('#lang-switch').addEventListener('click', () => {
            const newLang = currentLang === 'ja' ? 'en' : 'ja';
            setLanguage(newLang);
            populateTable();
            // Optionally clear search input or re-trigger search if needed
            document.querySelector('#search-input').value = '';
            document.querySelectorAll('tbody tr').forEach(tr => tr.classList.remove('hidden'));
        });

        // Initialize
        setLanguage('ja');
        populateTable();
        setupSearch();
    </script>
</body>
</html>